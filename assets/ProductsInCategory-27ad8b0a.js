import{p as L,r as a,u as A,j as t,a as F,b as Q}from"./index-8f24bfbb.js";import{S as _,a as b,b as P}from"./SingleProductCard-d4081db6.js";import{S as $}from"./index-59495baf.js";import"./index.esm-63923160.js";import"./iconBase-bc1bbad3.js";import"./toConsumableArray-d8972eef.js";import"./index-fe151fe8.js";const z=({})=>{const g=L().id,[l,N]=a.useState([]),w=async()=>{try{const e=await F(`${Q}/productWithCategory/${g}`),{data:s}=e;N(s.data)}catch(e){console.log(e)}};a.useEffect(()=>{w()},[g]);const m=Math.min(...l.map(e=>e.price))===1/0?0:Math.min(...l.map(e=>e.price)),h=Math.max(...l.map(e=>e.price))===-1/0?1e4:Math.max(...l.map(e=>e.price)),[r,v]=a.useState([m,h]),{i18n:i}=A(),[o,C]=a.useState(""),[c,x]=a.useState(1),n=8,[d,S]=a.useState([]);a.useEffect(()=>{x(1)},[o,r]),a.useEffect(()=>{const e=l.filter(s=>{const M=s.title.en.toLowerCase(),R=s.title.ar.toLowerCase(),j=o.toLowerCase(),y=s.price,E=M.includes(j)||R.includes(j),I=y>=r[0]&&y<=r[1];return E&&I});S(e)},[l,o,r]);const p=c*n,k=p-n,f=d.slice(k,p),u=e=>{x(e)};return t.jsx("div",{className:"flex flex-col container py-5 min-h-screen relative",children:t.jsxs("div",{className:"flex flex-col sm:flex-row",children:[t.jsxs("div",{className:"md:w-1/4 bg-white rounded-lg p-4 md:sticky top-0 h-fit overflow-y-auto shadow-lg flex flex-col gap-5",children:[t.jsx("h3",{className:"font-bold text-lg border-b border-gray-400 pb-4",children:i.language==="en"?"filter":"تصفية"}),t.jsx("div",{className:"w-full border-b border-gray-400 pb-4",children:t.jsx("input",{className:"w-full border border-gray-200 border-solid h-8",type:"text",name:"searchInAllProducts",id:"searchInAllProducts",value:o,placeholder:i.language==="en"?"search":"ابحث",onChange:e=>C(e.target.value)})}),t.jsxs("div",{className:"w-full ",children:[t.jsxs("label",{className:"text-secondColor font-bold",htmlFor:"priceRange",children:[i.language==="en"?"Price Range":"سعر المنتج ",": ",r[0]," - ",r[1]]}),t.jsx($,{range:!0,id:"priceRange",className:"mt-4",min:m,max:h,step:10,value:r,onChange:e=>v(e)})]})]}),t.jsxs("div",{className:"md:w-3/4 p-4",children:[t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-4",children:f.length>0?f.map(e=>t.jsx(_,{allProducts:!0,background:"white",productDetails:e,id:e.id,title:e.title,total_price:e.total_price,price:e.price,quantity:e.quantity,image:e.images[0].path,category:e.category},e.id)):t.jsx("p",{children:"No products found."})}),d.length>n&&t.jsx("nav",{className:"mt-4 flex justify-center",children:t.jsxs("ul",{className:"pagination flex items-center gap-3",children:[c>1&&t.jsx("li",{className:"page-item text-blue-500",children:t.jsx("button",{className:"page-link w-full h-full py-2 px-2 text-2xl",onClick:()=>u(c-1),children:i.language==="en"?t.jsx(b,{}):t.jsx(P,{})})}),Array.from({length:Math.ceil(d.length/n)},(e,s)=>t.jsx("li",{className:`page-item bg-gray-600 hover:bg-gray-800 text-white rounded-md  ${c===s+1?"active bg-secondColor":""}`,children:t.jsx("button",{className:"page-link w-full h-full py-2 px-4",onClick:()=>u(s+1),children:s+1})},s)),c<Math.ceil(d.length/n)&&t.jsx("li",{className:"page-item text-blue-500",children:t.jsx("button",{className:"page-link w-full h-full py-2 px-2 text-2xl",onClick:()=>u(c+1),children:i.language==="en"?t.jsx(P,{}):t.jsx(b,{})})})]})})]})]})})};export{z as default};

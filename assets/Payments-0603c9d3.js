import{r as l,f as j,u as N,g as f,j as e,d as y,B as v,b as w}from"./index-9ac8252e.js";const T=()=>{const{mainRequest:d}=l.useContext(j),{i18n:s}=N(),[r,i]=l.useState([]),[g,n]=l.useState(!1),c=localStorage.getItem("userLogged"),o=JSON.parse(localStorage.getItem("userToken")),u=f();if(!c)return u("/customer-login"),null;const x=t=>{const a=parseInt(t),m=(b=>{switch(b){case 0:return s.language==="en"?"Prepared":"قيد التحضير";case 1:return s.language==="en"?"Prepared":"قيد التحضير";case 2:return s.language==="en"?"At the Store":"قيد التخزين";case 3:return s.language==="en"?"At the Delivery Stage":"قيد مرحلة التوصيل";case 4:return s.language==="en"?"Delivered":"تم التوصيل";default:return""}})(a),p=a===0||a===1?"blue":a===2?"green":a===3?"purple":a===4?"teal":"black";return e.jsx("span",{style:{backgroundColor:p},className:"text-white text-sm px-2 shadow-lg",children:m})},h=async()=>{n(!0);try{const t=await d.post(`${w}/userOrder`,{token:o});i(t.data.data)}catch(t){console.log(t)}finally{n(!1)}};return l.useEffect(()=>{h()},[o,c]),g?e.jsx(y,{}):(console.log(r),e.jsxs("div",{className:"container py-10 min-h-[40dvh]",children:[e.jsx("div",{className:"mb-10",children:e.jsx(v,{})}),(r==null?void 0:r.length)>0?e.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.map(t=>e.jsxs("div",{className:"border rounded-lg p-4 bg-white shadow-md flex flex-col gap-2",children:[e.jsxs("h2",{className:"text-lg font-semibold",children:[s.language==="en"?"Order":"طلب"," #",t.id]}),e.jsxs("p",{className:"flex items-center gap-5",children:[e.jsx("span",{className:"font-bold w-24",children:s.language==="en"?"Total Price:":"السعر الكلي:"})," $",t.total_price]}),e.jsxs("p",{className:"flex items-center gap-5",children:[e.jsx("span",{className:"font-bold w-24",children:s.language==="en"?"Date:":"التاريخ:"})," ",t.date]}),e.jsxs("p",{className:"flex items-center gap-5",children:[e.jsx("span",{className:"font-bold w-24",children:s.language==="en"?"Status:":"الحالة:"})," ",x(t.status)]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-md font-semibold text-center",children:s.language==="en"?"Order Content":"محتوى الطلب"}),e.jsx("div",{className:"overflow-x-auto mt-2",children:e.jsxs("table",{className:"table-auto border w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200",children:[e.jsx("th",{className:"p-2 border border-gray-600 text-start",children:s.language==="en"?"Product":"المنتج"}),e.jsx("th",{className:"p-2 border border-gray-600 text-start",children:s.language==="en"?"Price":"السعر"}),e.jsx("th",{className:"p-2 border border-gray-600 text-start",children:s.language==="en"?"Quantity":"الكمية"}),e.jsx("th",{className:"p-2 border border-gray-600 text-start",children:s.language==="en"?"Total Price":"السعر الكلي"})]})}),e.jsx("tbody",{children:t.order_items.map(a=>e.jsxs("tr",{className:"odd:bg-gray-100",children:[e.jsx("td",{className:"p-2 border border-gray-600",children:a.product.title[s.language]}),e.jsx("td",{className:"p-2 border border-gray-600",children:a.product.total_price||a.product.price}),e.jsx("td",{className:"p-2 border border-gray-600",children:a.quantity}),e.jsxs("td",{className:"p-2 border border-gray-600",children:["$",a.total_price]})]},a.id))})]})})]})]},t.id))}):e.jsx("div",{className:"flex flex-col items-center justify-center",children:e.jsx("h1",{className:"text-2xl font-bold text-red-600",children:s.language==="en"?"You Don't Have Any Orders Yet!":"ليس لديك اي طلبات بعد"})})]}))};export{T as default};

import{u as y,j as e,c as D,r as o,A as O}from"./index-f5a6e49f.js";import{l as T}from"./index.esm-6f85e85f.js";/* empty css              */import{S as R}from"./react-select.esm-f2ffd8cd.js";import"./iconBase-f475f501.js";import"./toConsumableArray-0f7878d8.js";import"./floating-ui.dom.browser.min-b2afe59a.js";const L=({title:n,price:s,productTotalPrice:c,quantity:m,image:l})=>{const{i18n:r}=y();return e.jsxs("div",{className:"flex justify-between gap-3 border border-gray-300 py-3 px-2 rounded-md shadow-sm",children:[e.jsx("img",{className:"w-20 h-20 object-cover",src:l,alt:r.language==="en"?n.en:n.ar}),e.jsxs("div",{className:"grid flex-1 gap-5",children:[e.jsx("h3",{className:"font-medium",children:r.language==="en"?n.en:n.ar}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("p",{className:"text-gray-500",children:[r.language==="en"?"Quantity : ":"الكمية : ",e.jsx("span",{children:m})]}),e.jsx("span",{children:"*"}),e.jsxs("p",{className:"text-gray-500",children:[r.language==="en"?"Price : ":"السعر : ",e.jsx("span",{children:s})]})]})]}),e.jsx("span",{className:"text-secondColor font-bold",children:`${r.language==="ar"?`جنية ${c}`:`${c} EGY`}`})]})},_=()=>{const n=D(),{i18n:s}=y(),[c,m]=o.useState([]),l=JSON.parse(localStorage.getItem("userToken")),r=localStorage.getItem("userLogged");if(!r)return n("/customer-login"),null;const[u,N]=o.useState(""),[t,i]=o.useState({firstName:"",lastName:"",phoneNumber:"",email:"",address:"",selectedPaymentMethod:"",Governorate:u,photo:null}),{getCartItems:b,getTotalPriceInCart:v,total:h,governorates:p,getGovernorates:C}=o.useContext(O),x=o.useRef(null),d=a=>{i({...t,[a.target.name]:a.target.value})},j=a=>{i({...t,selectedPaymentMethod:a.target.value})},P=a=>{const g=a.target.files[0];i({...t,photo:g})},w=()=>{x.current.click()},S=()=>{i({...t,photo:null})},k=()=>{const a={...t,Governorate:u};console.log(a)};o.useEffect(()=>{r&&l&&(v(),b(l,m))},[r,l,h]);const G=p.map(a=>({value:a.id,label:a.title.en})),I=p.map(a=>({value:a.id,label:a.title.ar}));return o.useEffect(()=>{C()},[]),e.jsx("div",{className:"container py-10",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"grid gap-3 lg:sticky top-0 h-fit",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-mainColor font-bold text-lg",children:"Personal Details"}),e.jsx("p",{className:"text-gray-500",children:"Complete personal details to continue the payment"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[e.jsx("input",{placeholder:s.language==="en"?"First Name":"الاسم الاول",className:"rounded-lg border-gray-300 shadow-md",type:"text",name:"firstName",value:t.firstName,onChange:d}),e.jsx("input",{placeholder:s.language==="en"?"Last Name":"الاسم الاخير",className:"rounded-lg border-gray-300 shadow-md",type:"text",name:"lastName",value:t.lastName,onChange:d}),e.jsx("input",{placeholder:s.language==="en"?"Phone Number":"رقم الهاتف",className:"rounded-lg border-gray-300 shadow-md",type:"tel",name:"phoneNumber",value:t.phoneNumber,onChange:d}),e.jsx("input",{placeholder:s.language==="en"?"Email":"البريد الالكتروني",className:"rounded-lg border-gray-300 shadow-md",type:"email",name:"email",value:t.email,onChange:d}),e.jsx(R,{name:"governorate",id:"governorate",className:"rounded-lg border-gray-300 shadow-md col-span-2",onChange:a=>N(a.value),options:s.language==="en"?G:I,placeholder:s.language==="ar"?"ادخل محافظتك":"enter your Governorate",isRtl:s.language==="ar",isSearchable:!0,required:!0}),e.jsx("input",{placeholder:"Address",className:"rounded-lg border-gray-300 shadow-md col-span-2",type:"text",name:"address",value:t.address,onChange:d}),e.jsx("textarea",{name:"note",id:"note",placeholder:s.language==="en"?"enter short note":"اترك ملاحظة",className:"rounded-lg border-gray-300 shadow-md col-span-2 resize-y min-h-[5rem] max-h-[10rem]"})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-mainColor font-bold text-lg",children:"Payment Method"}),e.jsx("p",{className:"text-gray-500",children:"Select the number for payment of your item"})]}),e.jsxs("div",{className:"flex justify-between items-center rounded-lg border border-gray-500 p-2",children:[e.jsx("label",{className:"flex-1 cursor-pointer",htmlFor:"vodafone-cash",children:s.language==="en"?"vodafone Cash":"فودافون كاش"}),e.jsx("input",{className:"cursor-pointer",type:"radio",name:"selectedPaymentMethod",id:"vodafone-cash",value:"vodafone-cash",checked:t.selectedPaymentMethod==="vodafone-cash",onChange:j})]}),e.jsxs("div",{className:"flex justify-between items-center rounded-lg border border-gray-500 p-2",children:[e.jsx("label",{className:"flex-1 cursor-pointer",htmlFor:"cash-on-delivery",children:s.language==="en"?"Cash on Delivery":"الدفع عند الاستلام"}),e.jsx("input",{className:"cursor-pointer",type:"radio",name:"selectedPaymentMethod",id:"cash-on-delivery",value:"cash-on-delivery",checked:t.selectedPaymentMethod==="cash-on-delivery",onChange:j})]})]}),t.selectedPaymentMethod!=="cash-on-delivery"&&e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-mainColor font-bold text-lg",children:"Transfer data"}),e.jsx("p",{className:"text-gray-500",children:"Select the image for the conversion"})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"w-2/3 bg-[#F8F8FF] text-center border-dashed border-2 rounded-lg border-gray-300 p-4",children:[t.photo?e.jsxs("div",{children:[e.jsx("img",{src:URL.createObjectURL(t.photo),alt:"Transfer photo",className:"w-20 h-20 mx-auto mb-2"}),e.jsx("span",{className:"text-secondColor font-bold border-b border-b-secondColor",children:"Photo Selected"}),e.jsxs("div",{className:"flex justify-center mt-2",children:[e.jsx("button",{type:"button",className:"bg-mainColor text-white py-1 px-2 rounded-lg mr-2",onClick:w,children:"Update Photo"}),e.jsx("button",{type:"button",className:"bg-red-500 text-white py-1 px-2 rounded-lg",onClick:S,children:"Delete Photo"})]})]}):e.jsxs("label",{htmlFor:"photoInput",className:"flex flex-col items-center justify-center",children:[e.jsx(T,{className:"text-[4rem]"}),e.jsx("span",{className:"text-secondColor font-bold border-b border-b-secondColor cursor-pointer",children:"Select Photo"})]}),e.jsx("input",{ref:x,id:"photoInput",type:"file",accept:".jpg,.jpeg,.png",className:"hidden",onChange:P}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Supported formats: JPEG, PNG"})]})})]})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-mainColor font-bold text-lg",children:"Current Order"}),e.jsx("p",{className:"text-gray-500",children:"The sum of all total payments for goods there"})]}),c.map(a=>{const{id:g,title:M,images:E,price:F,quantity_of_cart:f}=a;return e.jsx(L,{quantity:f.quantity,title:M,price:F,productTotalPrice:f.total,image:`https://admin.horriizon.com/images/${E[0].path}`},g)}),e.jsxs("div",{className:"flex justify-between items-center font-medium py-4 border-dotted border-b-2",children:[e.jsx("h6",{children:"Subtotal"}),e.jsxs("p",{children:[h," EGY"]})]}),e.jsxs("button",{className:"bg-secondColor text-white text-xl py-2 px-4 rounded-md",onClick:k,children:["Pay ",h," EGY"]})]})]})})};export{_ as default};

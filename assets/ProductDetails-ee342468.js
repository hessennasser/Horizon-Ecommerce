import{C as _,u as O,r as n,e as R,j as e,O as A,h as D,a as u,b as c}from"./index-910228ac.js";import{d as q}from"./index.esm-2719ba26.js";/* empty css              */import{S as j,P as f,N as y,a as w}from"./pagination-92583b80.js";import{A as L}from"./autoplay-e85a7411.js";import{S as F}from"./SingleProductCard-66030c30.js";const W=()=>{var m;const{id:i}=_(),{i18n:t}=O(),{addToCart:b,mainRequest:v}=n.useContext(R),[N,C]=n.useState({}),[P,d]=n.useState(!1),{images:o,title:a,price:x,quantity:r,start_date:$,total_price:S,fake_visitor:g,category_id:p}=N,k=async()=>{d(!0);try{const[s,h]=await Promise.all([u.post(`${c}/product?id=${i}`),u.post(`${c}/product_visitor`,{id:i})]),V=s.data.data;C(V)}catch(s){console.log(s)}finally{d(!1)}};n.useEffect(()=>{k()},[i]);const[l,E]=n.useState([]),B=async()=>{try{const s=await v(`${c}/productWithCategory/${p}`),{data:h}=s;E(h.data)}catch(s){console.log(s)}};return n.useEffect(()=>{B()},[p,i]),e.jsx(e.Fragment,{children:P?e.jsxs("div",{className:"container py-10 flex flex-col gap-5 items-center justify-center",children:[e.jsx("h2",{className:"text-xl font-bold",children:t.language==="en"?"Loading...":"جاري التحميل..."}),e.jsx(A,{visible:!0,height:"160",width:"160",ariaLabel:"Oval-loading",wrapperStyle:{},wrapperClass:"Oval-wrapper",color:"#125ed4",secondaryColor:"#060047"})]}):e.jsxs("div",{className:"container py-10",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 mb-10",children:[o&&o.length>0&&e.jsx("div",{className:"img-holder p-5 col-span-1 flex items-center justify-center rounded-lg",children:e.jsx(j,{slidesPerView:1,spaceBetween:30,loop:!0,pagination:{clickable:!0},navigation:!0,modules:[f,y],className:"mySwiper",style:{direction:"ltr"},children:o.map(s=>e.jsx(w,{children:e.jsx("img",{className:"h-96 w-full object-contain",src:`https://admin.horriizon.com/public/${s.path}`,alt:t.language==="en"?a==null?void 0:a.en:a==null?void 0:a.ar})},s.id))})}),e.jsxs("div",{className:"product-details flex flex-col gap-5 px-5 mt-5 md:col-span-2",children:[e.jsx("h2",{className:"text-xl font-bold",children:t.language==="en"?a==null?void 0:a.en:a==null?void 0:a.ar}),e.jsxs("div",{className:"flex flex-col gap-5 font-bold",children:[g&&e.jsxs("p",{className:"flex items-center gap-2",children:[g," ",t.language==="en"?"Visitor":"زائر"," ",e.jsx(D,{})]}),e.jsx("p",{children:t.language==="en"?`quantity in stock : ${r}`:`الكميه المتاحه : ${r}`})]}),e.jsx("h3",{className:"2xl font-bold",children:S||`${t.language==="ar"?`جنية ${x}`:`${x} EGY`} `||"0 EGY"}),e.jsx("p",{className:"text-xl text-secondColor",children:t.language==="en"?`in stock : ${r}`:`الكميه المتاحه : ${r}`}),e.jsxs("div",{className:"flex justify-between ",children:[e.jsx("p",{children:t.language==="en"?"in stock":"الكميه المتاحه"}),e.jsx("p",{children:r})]}),e.jsxs("div",{className:"flex justify-between text-gray-400 py-5 border-y",children:[e.jsx("p",{children:t.language==="en"?"Expiration date":"تاريخ الانتهاء"}),e.jsx("p",{className:"border w-3/5 text-center px-6 py-1",children:$})]}),e.jsx("div",{className:"actoins grid grid-cols-1 justify-items-center items-center gap-3",children:e.jsxs("button",{onClick:()=>{b(i)},className:"m-0 text-sm text-center flex items-center justify-center gap-2 px-5 py-2 rounded-md border border-black text-black duration-200 hover:bg-secondColor hover:text-white",type:"button",children:[e.jsx(q,{})," ",t.language==="en"?"Add to Cart":"أضف الي عربة التسوق"]})})]})]}),l.length>0&&e.jsxs("div",{className:"swiper-container",children:[e.jsx("h2",{className:"text-2xl mb-5 text-secondColor font-bold",children:t.language==="en"?"Related Products":"منتجات مشابهه"}),e.jsx(j,{slidesPerView:1,spaceBetween:30,pagination:{clickable:!0},autoplay:{delay:3e3,disableOnInteraction:!1,reverseDirection:!0},navigation:!0,modules:[f,y,L],className:"mySwiper",style:{direction:"ltr"},breakpoints:{0:{slidesPerView:1,spaceBetween:10},440:{slidesPerView:2,spaceBetween:20},991:{slidesPerView:3,spaceBetween:20},1200:{slidesPerView:5,spaceBetween:20}},children:(m=l==null?void 0:l.filter(s=>(s==null?void 0:s.id)!=i))==null?void 0:m.map(s=>e.jsx(w,{children:e.jsx(F,{id:s==null?void 0:s.id,title:s==null?void 0:s.title,price:s==null?void 0:s.price,image:s==null?void 0:s.images[0].path,category:s.category,total_price:s.total_price,background:"white"})},s.id))})]})]})})};export{W as default};

import{G as H,a2 as W,g as J,u as K,r as i,f as X,j as e,O as Z,L as ee,l as ae,a8 as se,a9 as te,aa as le,ab as ne,a as B,b as y}from"./index-41a87d18.js";/* empty css              */import{S as q,P as D,N as G,a as L}from"./pagination-d39579de.js";import{A as re}from"./autoplay-87602fa1.js";import{S as ie}from"./SingleProductCard-263e0d18.js";import{a as O}from"./index.esm-61522c0f.js";function ce(n){return H({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}},{tag:"path",attr:{d:"M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}},{tag:"path",attr:{d:"M5 17h-2v-4m-1 -8h11v12m-4 0h6m4 0h2v-6h-8m0 -5h5l3 5"}},{tag:"path",attr:{d:"M3 9l4 0"}}]})(n)}const he=()=>{var S,P,F,$,E;const{id:n}=W(),V=J(),{i18n:s}=K(),{addToCart:b,mainRequest:_,chosenDelivery:v,handleDeliveryChange:N,websiteInfo:c}=i.useContext(X),[x,p]=i.useState(1),[l,A]=i.useState({}),[M,w]=i.useState(!1);console.log(l);const{images:h,title:t,price:C,quantity:o,start_date:R,total_price:T,fake_visitor:k,visitor:Y,category:d,category_id:u,stars:f=5,small_description:r,discount:j}=l,z=async()=>{w(!0);try{const[a,g]=await Promise.all([B.post(`${y}/product?id=${n}`),B.post(`${y}/product_visitor`,{id:n})]),U=a.data.data;A(U)}catch(a){console.log(a)}finally{w(!1)}};i.useEffect(()=>{z()},[n]);const[m,I]=i.useState([]),Q=async()=>{try{const a=await _(`${y}/productWithCategory/${u}`),{data:g}=a;I(g.data)}catch(a){console.log(a)}};return i.useEffect(()=>{Q()},[u,n]),e.jsx(e.Fragment,{children:M?e.jsxs("div",{className:"container py-10 flex flex-col gap-5 items-center justify-center",children:[e.jsx("h2",{className:"text-xl font-bold",children:s.language==="en"?"Loading...":"جاري التحميل..."}),e.jsx(Z,{visible:!0,height:"160",width:"160",ariaLabel:"Oval-loading",wrapperStyle:{},wrapperClass:"Oval-wrapper",color:"#125ed4",secondaryColor:"#060047"})]}):e.jsxs("div",{className:"container py-10",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-5 mb-10 relative",children:[h&&h.length>0&&e.jsx("div",{className:"img-holder lg:sticky top-0 h-fit p-5 col-span-1 md:col-span-2 lg:col-span-1 flex justify-center rounded-lg max-h-[400px]",children:e.jsx(q,{slidesPerView:1,spaceBetween:30,loop:!0,pagination:{clickable:!0},navigation:!0,modules:[D,G],className:"mySwiper",style:{direction:"ltr"},children:h.map(a=>e.jsx(L,{children:e.jsx("img",{className:"w-full h-full max-h-[400px] object-contain",src:`https://admin.horriizon.com/public/${a.path}`,alt:s.language==="en"?t==null?void 0:t.en:t==null?void 0:t.ar})},a.id))})}),e.jsxs("div",{className:"product-details bg-[#e5e5e5] grid grid-cols-1 gap-5 p-5 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold text-secondColor",children:s.language==="en"?t==null?void 0:t.en:t==null?void 0:t.ar}),r&&e.jsx("h3",{className:"text-sm",children:s.language==="en"?r==null?void 0:r.en:r==null?void 0:r.ar}),e.jsx(ee,{to:`/categories/${u}`,children:e.jsx("h3",{className:"text-lg font-bold underline",children:s.language==="en"?(S=d==null?void 0:d.title)==null?void 0:S.en:(P=d==null?void 0:d.title)==null?void 0:P.ar})}),e.jsxs("div",{className:"flex gap-5 items-center font-bold flex-wrap",children:[e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx(ae,{})," ",k||Y," ",s.language==="en"?"Visitor":"زائر"]}),f&&e.jsxs("p",{className:"flex items-center gap-2",children:[Array.from({length:parseInt(f)}).map((a,g)=>e.jsx(se,{className:"text-yellow-400"},g)),f]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"text-3xl font-bold text-secondColor",children:T||`${s.language==="ar"?`جنية ${C}`:`${C} EGY`} `||"0 EGY"}),j&&e.jsx("span",{className:"text-md text-red-500 ms-auto line-through",children:`${s.language==="ar"?`جنية ${j}`:`${j} EGY`} `})]}),o>1&&e.jsxs("p",{className:"text-2xl font-bold text-secondColor flex items-center",children:[s.language==="en"?"in stock :":"الكميه المتاحه :",e.jsx("span",{className:"text-black mx-2",children:o})]}),e.jsxs("div",{className:"w-full flex justify-between flex-wrap py-5 border-y",children:[e.jsx("p",{children:s.language==="en"?"Expiration date":"تاريخ الانتهاء"}),e.jsx("p",{className:"border text-center px-6 py-1",children:R})]}),e.jsx("div",{className:"actions grid grid-cols-1 justify-items-center items-center gap-3",children:parseInt(o)>1?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full flex justify-between  border-b",children:[e.jsx("p",{children:s.language==="en"?"Quntaty":"الكمية"}),e.jsxs("div",{children:[e.jsx("button",{className:"quantity-button py-2 px-3 text-xl font-medium",onClick:()=>{x!==1&&p(a=>a-1)},children:"-"}),e.jsx("input",{type:"number",name:"quantity",min:1,max:o,id:"quantity",className:"border-none focus:outline-none bg-transparent w-20 text-center",value:x,onChange:a=>{a.target.value>o||p(parseInt(a.target.value))}}),e.jsx("button",{className:"quantity-button py-2 px-3 text-xl font-medium",onClick:()=>{x!==o&&p(a=>a+1)},children:"+"})]})]}),e.jsxs("div",{className:"quantity-control flex items-center gap-5 flex-wrap justify-center",children:[e.jsxs("button",{onClick:()=>{b(n,x)},className:"m-0 text-sm text-center flex items-center justify-center gap-2 px-5 py-2 rounded-md border border-black text-black duration-200 hover:bg-secondColor hover:text-white",type:"button",children:[e.jsx(te,{})," ",s.language==="en"?"Add to Cart":"أضف الي عربة التسوق"]}),e.jsxs("button",{onClick:()=>{b(n,x),setTimeout(()=>{V("/checkout")},3e3)},className:"m-0 text-sm text-center flex items-center justify-center gap-2 px-5 py-2 rounded-md border bg-secondColor text-white hover:brightness-125",type:"button",children:[e.jsx(le,{})," ",s.language==="en"?"Buy Now":"إشتري الان"]})]})]}):e.jsx("button",{disabled:!0,"aria-label":"out of stock",className:" duration-200 flex items-center justify-center gap-2 bg-red-500 text-white text-sm p-2 rounded-md w-full",children:118n.language==="en"?"Out Of Stock":"غير متوفر"})})]}),e.jsxs("div",{className:"col-span-3 lg:col-span-1 h-fit",children:[e.jsxs("div",{className:"bg-white p-5 rounded-md",children:[e.jsx("h2",{className:"text-lg font-medium mb-5 text-center",children:s.language==="en"?"Choose Delivery package":"اختر طريقة التسليم"}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-center justify-between border-2 border-secondColor p-1 px-3 rounded-lg",children:[e.jsx("div",{className:"flex flex-col gap-2",children:e.jsxs("label",{htmlFor:"package-1",className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",name:"delivery",id:"package-1",value:"Fast delivery",checked:v==="Fast delivery",onChange:N,className:"bg-mainColor"}),s.language==="en"?"Fast delivery":"توصيل سريع"]})}),e.jsxs("span",{className:"text-secondColor",children:[c==null?void 0:c.fast_charging," EGY"]})]}),e.jsxs("div",{className:"flex items-center justify-between border-2 border-secondColor p-1 px-3 rounded-lg",children:[e.jsx("div",{className:"flex flex-col gap-2",children:e.jsxs("label",{htmlFor:"package-2",className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",name:"delivery",id:"package-2",value:"Standard delivery",checked:v==="Standard delivery",onChange:N,className:"bg-mainColor"}),s.language==="en"?"Standard delivery":"توصيل عادي"]})}),e.jsxs("span",{className:"text-secondColor",children:[c==null?void 0:c.normal_charging," EGY"]})]})]})]}),e.jsx("a",{href:"",children:e.jsx("img",{className:"p-5 min-h-[400px] h-[400px] mx-auto",src:"https://admin.horriizon.com/public/images/ads/1696177825250.jpg",alt:"Horizon"})})]}),e.jsxs("div",{className:"col-span-3 w-full flex flex-wrap items-center justify-between gap-5 my-5",children:[e.jsxs("div",{className:"item flex flex-col gap-2 text-center text-lg justify-center items-center w-48 mx-auto",children:[e.jsx(O,{className:"text-3xl text-secondColor"}),e.jsx("p",{className:"font-bold",children:s.language==="en"?"Receipt and delivery":"الدفع عند الاستلام"})]}),e.jsxs("div",{className:"item flex flex-col gap-2 text-center text-lg justify-center items-center w-48 mx-auto",children:[e.jsx(O,{className:"text-3xl text-secondColor"}),e.jsx("p",{className:"font-bold",children:s.language==="en"?"Secure payment":"دفع امن"})]}),e.jsxs("div",{className:"item flex flex-col gap-2 text-center text-lg justify-center items-center w-48 mx-auto",children:[e.jsx(ce,{className:"text-3xl text-secondColor"}),e.jsx("p",{className:"font-bold",children:s.language==="en"?"Safe delivery":"توصيل امن"})]}),e.jsxs("div",{className:"item flex flex-col gap-2 text-center text-lg justify-center items-center w-48 mx-auto",children:[e.jsx(ne,{className:"text-3xl text-secondColor"}),e.jsx("p",{className:"font-bold",children:s.language==="en"?"Fast delivery":"سرعة التوصيل"})]})]}),(l==null?void 0:l.description)&&e.jsxs("div",{className:"col-span-3 bg-[#e5e5e5] p-4",children:[e.jsx("h2",{children:s.language==="en"?"About Product":"عن المنتج"}),e.jsx("p",{className:"text-lg py-5 border-y ",children:s.language==="en"?(F=l==null?void 0:l.description)==null?void 0:F.en:($=l==null?void 0:l.description)==null?void 0:$.ar})]})]}),m.length>1&&e.jsxs("div",{className:"swiper-container",children:[e.jsx("h2",{className:"text-2xl mb-5 text-secondColor font-bold",children:s.language==="en"?"Related Products":"منتجات مشابهه"}),e.jsx(q,{slidesPerView:1,spaceBetween:30,pagination:{clickable:!0},autoplay:{delay:3e3,disableOnInteraction:!1,reverseDirection:!0},navigation:!0,modules:[D,G,re],className:"mySwiper",style:{direction:"ltr"},breakpoints:{0:{slidesPerView:1,spaceBetween:10},440:{slidesPerView:2,spaceBetween:20},991:{slidesPerView:3,spaceBetween:20},1200:{slidesPerView:5,spaceBetween:20}},children:(E=m==null?void 0:m.filter(a=>(a==null?void 0:a.id)!=n))==null?void 0:E.map(a=>e.jsx(L,{children:e.jsx(ie,{id:a==null?void 0:a.id,title:a==null?void 0:a.title,quantity:a.quantity,price:a==null?void 0:a.price,image:a==null?void 0:a.images[0].path,category:a.category,total_price:a.total_price,background:"white"})},a.id))})]})]})})};export{he as default};

import{r,c as le,u as te,A as re,j as e,a as V,b as _,Q as i}from"./index-cd736919.js";import{F as H,a as K}from"./index.esm-4d56a200.js";import{j as P}from"./index.esm-886be82e.js";import{a as M}from"./index.esm-7ca4a6a9.js";import{B as Y}from"./Breadcrumbs-c3ba01b2.js";import{S}from"./Tooltip-4e073ad6.js";import"./index-b90eba53.js";import"./iconBase-432073a3.js";import"./index.esm-8e9238d2.js";import"./index.esm-3e06b91b.js";const pe=()=>{const o=localStorage.getItem("userLogged"),c=JSON.parse(localStorage.getItem("userToken")),[n,R]=r.useState({}),u=localStorage.getItem("sellerLogged"),m=JSON.parse(localStorage.getItem("sellerToken")),[l,q]=r.useState({}),G=le(),{i18n:s}=te(),{getUserInfo:k,getSallerInfo:Z,logout:O}=r.useContext(re);if(!o&&!u)return G("/customer-login"),null;const[B,$]=r.useState(!1),[J,z]=r.useState(!1),[d,ee]=r.useState(!1),[t,E]=r.useState(!1),[F,T]=r.useState(!1),[h,L]=r.useState(o?n==null?void 0:n.name:l==null?void 0:l.name),[f,U]=r.useState(o?n==null?void 0:n.email:l==null?void 0:l.email),[x,Q]=r.useState(o?n==null?void 0:n.phone:l==null?void 0:l.phone),[j,se]=r.useState(""),[w,ae]=r.useState(""),b=()=>{ee(!d)},y=()=>{E(!t),T(!1)},N=()=>{T(!F),E(!1)},W=a=>{L(a.target.value)},X=a=>{U(a.target.value)},A=a=>{Q(a.target.value)},D=a=>{se(a.target.value)},I=a=>{ae(a.target.value)},v=async a=>{a.preventDefault(),$(!0);try{const p={token:o?c:m,name:h,email:f,phone:x},g=await V.post(`${_}${o?"/auth/user-update":"/vendor/auth/vendor-update"}`,p);g.status===200||g.status===201?i.success("The profile updated successfully"):g.status===401?i.error("There is an error, please try again later"):i.error("There is an error, please try again later"),k(c,SetUserInfo)}catch{i.error("There is an error, please try again later")}finally{$(!1),E(!1)}},C=async a=>{if(a.preventDefault(),!j){i.info(s.language==="en"?"please enter new password":"ادخل كلمة المرور الجديده");return}if(!w){i.info(s.language==="en"?"please enter confirmation password":"ادخل تاكيد كلمة المرور");return}z(!0);try{const p={token:o?c:m,name:h,phone:x,email:f,password:j,password_confirmation:w},g=await V.post(`${_}${o?"/auth/user-update":"/vendor/auth/vendor-update"}`,p);g.status===200||g.status===201?i.success("The password updated successfully"):g.status===401?i.error("There is an error, please try again later"):i.error("There is an error, please try again later"),k(c,SetUserInfo)}catch{i.error("There is an error, please try again later")}finally{z(!1),T(!1)}};if(r.useEffect(()=>{o&&k(c,R,L,U,Q),console.log(f,x)},[u,m,o,c]),r.useEffect(()=>{u&&Z(m,q,L,U,Q)},[u,m,o,c]),o)return e.jsxs("div",{className:"container py-10",children:[e.jsx("div",{className:"mb-10",children:e.jsx(Y,{})}),e.jsxs("div",{className:"grid grid-cols-3 gap-5 my-5",children:[e.jsxs("div",{className:"user-info col-span-3 md:col-span-1 bg-white p-3 shadow-lg rounded-md h-fit",children:[e.jsx("div",{className:"img-holder relative -top-10 overflow-hidden w-32 h-32 bg-secondColor text-white grid place-content-center rounded-[50%] mx-auto",children:e.jsx("img",{src:`https://admin.horriizon.com/${n.image}`||"https://lh3.googleusercontent.com/Xsvl-X4MBLASFz1ha2-zl_LV3Hj4-f1sy73yWwg3QcDiJ-WKWmkQajdiolJ5Sv4oF4QtnQiuBwUsBJQsSEspLYszs1UFXf-rUhIx-00T",className:"h-full w-full",alt:n.name})}),e.jsxs("div",{className:"info flex flex-col justify-center items-center gap-3",children:[e.jsx("h3",{children:n.name}),e.jsx("h3",{className:"text-sm md:text-md",children:n.email})]}),e.jsxs("div",{className:"actions mt-10 flex flex-col justify-center items-center gap-3",children:[e.jsxs("button",{className:"flex items-center gap-2",onClick:y,children:[e.jsx(P,{})," ",s.language==="en"?"Edit Profile":"تعديل بياناتك"]}),e.jsxs("button",{className:"flex items-center gap-2",onClick:N,children:[e.jsx(P,{})," ",s.language==="en"?"Edit Password":"تغيير كلمة المرور"]}),e.jsxs("button",{onClick:O,className:"flex items-center gap-2",children:[e.jsx(M,{}),s.language==="en"?"Logout":"تسجيل الخروج"]})]})]}),e.jsxs("div",{className:"col-span-3 md:col-span-2 bg-white p-3 shadow-lg rounded-md",children:[e.jsx("h2",{className:"text-xl font-medium",children:s.language==="ar"?"الملف الشخصي":"Profile"}),e.jsxs("form",{className:"flex flex-col gap-5 items-center my-5",onSubmit:v,children:[e.jsxs("div",{className:"flex w-full gap-2 justify-between flex-col",children:[e.jsx("label",{htmlFor:"name",children:s.language==="ar"?"الاسم":"Full Name"}),e.jsx("input",{className:"w-full bg-gray-300",id:"name",type:"text",value:h,readOnly:!t,onChange:a=>{t&&W(a)}})]}),e.jsxs("div",{className:"flex w-full gap-2 justify-between flex-col",children:[e.jsx("label",{htmlFor:"phone",children:s.language==="ar"?"رقم الهاتف":"Phone"}),e.jsx("input",{className:"w-full bg-gray-300",id:"phone",type:"tel",value:x,readOnly:!t,onChange:a=>{t&&A(a)}})]}),e.jsxs("div",{className:"flex w-full gap-2 justify-between flex-col",children:[e.jsx("label",{htmlFor:"email",children:s.language==="ar"?"البريد الالكتروني":"Email"}),e.jsx("input",{className:"w-full bg-gray-300",id:"email",type:"email",value:f,readOnly:!t,onChange:a=>{t&&X(a)}})]}),t&&e.jsxs("div",{className:"w-full grid grid-cols-2 gap-3",children:[e.jsx("button",{onClick:v,className:"m-0 bg-secondColor py-2 rounded-xl text-white",type:"submit",children:B?e.jsx(S,{"aria-label":"loading...",color:"purple"}):s.language==="ar"?"حفظ التعديلات":"Save Changes"}),e.jsx("button",{className:"py-2 rounded-xl border border-secondColor text-secondColor",type:"button",onClick:y,children:s.language==="ar"?"الغاء":"Cancel"})]})]}),F&&e.jsxs("form",{className:"flex flex-col gap-5 items-center my-5",onSubmit:C,children:[e.jsxs("div",{className:"flex w-full gap-2 justify-between flex-col relative",children:[e.jsx("label",{htmlFor:"new-password",children:s.language==="ar"?"كلمة المرور الجديده":"New Password"}),e.jsx("input",{className:"w-full bg-gray-300",id:"new-password",type:d?"text":"password",value:j,onChange:D}),d?e.jsx(H,{className:`absolute ${s.language==="en"?"right-3":"left-3"} top-1/2 transform translate-y-1/2 cursor-pointer`,onClick:b}):e.jsx(K,{className:`absolute ${s.language==="en"?"right-3":"left-3"} top-1/2 transform translate-y-1/2 cursor-pointer`,onClick:b})]}),e.jsxs("div",{className:"flex w-full gap-2 justify-between flex-col relative",children:[e.jsx("label",{htmlFor:"confirm-password",children:s.language==="ar"?"اعد كتابة كلمة المرور":"Confirm Password"}),e.jsx("input",{className:"w-full bg-gray-300",id:"confirm-password",type:d?"text":"password",value:w,onChange:I})]}),e.jsxs("div",{className:"w-full grid grid-cols-2 gap-3",children:[e.jsx("button",{onClick:C,className:"m-0 bg-secondColor py-2 rounded-xl text-white",type:"submit",children:J?e.jsx(S,{"aria-label":"loading...",color:"purple"}):s.language==="ar"?"حفظ كلمة المرور":"Uptade Password"}),e.jsx("button",{className:"py-2 rounded-xl border border-secondColor text-secondColor",type:"button",onClick:N,children:s.language==="ar"?"الغاء":"Cancel"})]})]})]})]})]});if(u)return e.jsxs("div",{className:"container py-10",children:[e.jsx("div",{className:"mb-10",children:e.jsx(Y,{})}),e.jsxs("div",{className:"grid grid-cols-3 gap-5 my-5",children:[e.jsxs("div",{className:"user-info col-span-3 md:col-span-1 bg-white p-3 shadow-lg rounded-md h-fit",children:[e.jsx("div",{className:"img-holder relative -top-10 overflow-hidden w-32 h-32 bg-[#F28423] rounded-[50%] mx-auto",children:e.jsx("img",{src:l.image||"https://lh3.googleusercontent.com/Xsvl-X4MBLASFz1ha2-zl_LV3Hj4-f1sy73yWwg3QcDiJ-WKWmkQajdiolJ5Sv4oF4QtnQiuBwUsBJQsSEspLYszs1UFXf-rUhIx-00T",className:"h-full w-full",alt:l.name})}),e.jsxs("div",{className:"info flex flex-col justify-center items-center gap-3",children:[e.jsx("h3",{children:l.name}),e.jsx("h3",{className:"text-sm md:text-md",children:l.email})]}),e.jsxs("div",{className:"actions mt-10 flex flex-col justify-center items-center gap-3",children:[e.jsxs("button",{className:"flex items-center gap-2",onClick:y,children:[e.jsx(P,{})," ",s.language==="en"?"Edit Profile":"تعديل بياناتك"]}),e.jsxs("button",{className:"flex items-center gap-2",onClick:N,children:[e.jsx(P,{})," ",s.language==="en"?"Edit Password":"تغيير كلمة المرور"]}),e.jsxs("button",{onClick:O,className:"flex items-center gap-2",children:[e.jsx(M,{}),s.language==="en"?"Logout":"تسجيل الخروج"]})]})]}),e.jsxs("div",{className:"col-span-3 md:col-span-2 bg-white p-3 shadow-lg rounded-md",children:[e.jsx("h2",{className:"text-xl font-medium",children:s.language==="ar"?"الملف الشخصي":"Profile"}),e.jsxs("form",{className:"flex flex-col gap-5 items-center my-5",onSubmit:v,children:[e.jsxs("div",{className:"flex w-full gap-2 justify-between flex-col",children:[e.jsx("label",{htmlFor:"name",children:s.language==="ar"?"الاسم":"Full Name"}),e.jsx("input",{className:"w-full bg-gray-300",id:"name",type:"text",value:h||l.name,readOnly:!t,onChange:a=>{t&&W(a)}})]}),e.jsxs("div",{className:"flex w-full gap-2 justify-between flex-col",children:[e.jsx("label",{htmlFor:"phone",children:s.language==="ar"?"رقم الهاتف":"Phone"}),e.jsx("input",{className:"w-full bg-gray-300",id:"phone",type:"tel",value:x||l.phone,readOnly:!t,onChange:a=>{t&&A(a)}})]}),e.jsxs("div",{className:"flex w-full gap-2 justify-between flex-col",children:[e.jsx("label",{htmlFor:"email",children:s.language==="ar"?"البريد الالكتروني":"Email"}),e.jsx("input",{className:"w-full bg-gray-300",id:"email",type:"email",value:f||l.email,readOnly:!t,onChange:a=>{t&&X(a)}})]}),t&&e.jsxs("div",{className:"w-full grid grid-cols-2 gap-3",children:[e.jsx("button",{onClick:v,className:"m-0 bg-secondColor py-2 rounded-xl text-white",type:"submit",children:B?e.jsx(S,{"aria-label":"loading...",color:"purple"}):s.language==="ar"?"حفظ التعديلات":"Save Changes"}),e.jsx("button",{className:"py-2 rounded-xl border border-secondColor text-secondColor",type:"button",onClick:y,children:s.language==="ar"?"الغاء":"Cancel"})]})]}),F&&e.jsxs("form",{className:"flex flex-col gap-5 items-center my-5",onSubmit:C,children:[e.jsxs("div",{className:"flex w-full gap-2 justify-between flex-col relative",children:[e.jsx("label",{htmlFor:"new-password",children:s.language==="ar"?"كلمة المرور الجديده":"New Password"}),e.jsx("input",{className:"w-full bg-gray-300",id:"new-password",type:d?"text":"password",value:j,onChange:D}),d?e.jsx(H,{className:`absolute ${s.language==="en"?"right-3":"left-3"} top-1/2 transform translate-y-1/2 cursor-pointer`,onClick:b}):e.jsx(K,{className:`absolute ${s.language==="en"?"right-3":"left-3"} top-1/2 transform translate-y-1/2 cursor-pointer`,onClick:b})]}),e.jsxs("div",{className:"flex w-full gap-2 justify-between flex-col relative",children:[e.jsx("label",{htmlFor:"confirm-password",children:s.language==="ar"?"اعد كتابة كلمة المرور":"Confirm Password"}),e.jsx("input",{className:"w-full bg-gray-300",id:"confirm-password",type:d?"text":"password",value:w,onChange:I})]}),e.jsxs("div",{className:"w-full grid grid-cols-2 gap-3",children:[e.jsx("button",{onClick:C,className:"m-0 bg-secondColor py-2 rounded-xl text-white",type:"submit",children:J?e.jsx(S,{"aria-label":"loading...",color:"purple"}):s.language==="ar"?"حفظ كلمة المرور":"Uptade Password"}),e.jsx("button",{className:"py-2 rounded-xl border border-secondColor text-secondColor",type:"button",onClick:N,children:s.language==="ar"?"الغاء":"Cancel"})]})]})]})]})]})};export{pe as default};

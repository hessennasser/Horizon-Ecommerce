import{c as j,u as b,r as c,j as e,k as w,L as d,a as N,b as v,Q as m}from"./index-013aa8e1.js";import{B as S,c as y}from"./circle-1-f3db9b90.js";import{F as L,a as C}from"./index.esm-e6478150.js";import{S as k}from"./Tooltip-0cc61d28.js";import"./index-ae7c5030.js";/* empty css                      */import"./horizon-logo-035e306d.js";import"./iconBase-0fb6d6d6.js";import"./index.esm-c0b01151.js";import"./index.esm-8555f069.js";const z=()=>{const o=j(),{i18n:u}=b(),[a,p]=c.useState(!1),[l,t]=c.useState(!1);if(localStorage.getItem("userLogged")){o("/profile");return}const g=r=>{r.preventDefault();const x=r.target.email.value,f=r.target.password.value,h={email:x,password:f};t(!0),N.post(`${v}/auth/login`,h).then(s=>{m.success("Logged in");const n=s.data.user;n.token=s.data.access_token,localStorage.setItem("userInfo",JSON.stringify(n)),localStorage.setItem("userLogged",!0),setTimeout(()=>{o("/profile")},2e3),t(!1)}).catch(s=>{m.error(s.response.data.error),t(!1)})},i=()=>{p(!a)};return e.jsxs("div",{className:"bg-mainColor",children:[e.jsx(w,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),e.jsxs("div",{className:"min-h-screen grid grid-cols-1 sm:grid-cols-2 gap-5",children:[e.jsx(S,{}),e.jsx("div",{className:`bg-white ${u.language==="en"?"md:rounded-l-xl":"md:rounded-r-xl"} flex flex-col items-center justify-center py-20`,children:e.jsxs("div",{className:"flex flex-col items-center justify-center w-2/3",children:[e.jsxs("div",{className:"relative mb-7",children:[e.jsx("h2",{className:"font-bold text-2xl text-center sm:text-3xl",children:"Log in as a Customer "}),e.jsx("img",{className:"absolute -top-14 -right-7 w-2/3 hidden md:block",src:y,alt:"horizon"})]}),e.jsx("p",{className:"mb-2 text-secondColor",children:"For Your better experience"}),e.jsxs("form",{id:"customer-login-form",className:"flex flex-col gap-4 w-full",onSubmit:g,children:[e.jsx("input",{placeholder:"Email",type:"email",name:"email",id:"email"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{placeholder:"Password",type:a?"text":"password",name:"password",id:"password",className:"w-full",required:!0}),a?e.jsx(L,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer",onClick:i}):e.jsx(C,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer",onClick:i})]}),e.jsx(d,{to:"/forget-password",children:e.jsx("span",{className:"flex justify-end text-red-600",children:"Forget Password ?"})}),e.jsx("button",{className:"w-full",type:"submit",disabled:l,children:l?e.jsxs(e.Fragment,{children:[e.jsx(k,{"aria-label":"loading...",color:"purple"}),e.jsx("span",{className:"pl-3",children:"Loading..."})]}):"Sign in"})]}),e.jsxs("p",{className:"mt-4 text-lg",children:["Don't have an account? ",e.jsx(d,{to:"/customer-signup",className:"text-secondColor font-bold",children:"Sign Up"})]})]})})]})]})};export{z as default};

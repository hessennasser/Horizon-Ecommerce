import{d as R,r as l,A,u as L,j as t}from"./index-013aa8e1.js";import{S as E,a as b,b as y}from"./SingleProductCard-2111e1f5.js";import{S as I}from"./index-dbdc97a0.js";import"./index.esm-2c983ca2.js";import"./iconBase-0fb6d6d6.js";import"./index-ae7c5030.js";const T=({})=>{R().id;const{products:r}=l.useContext(A),g=Math.min(...r.map(e=>e.price))===1/0?0:Math.min(...r.map(e=>e.price)),m=Math.max(...r.map(e=>e.price))===-1/0?1e4:Math.max(...r.map(e=>e.price)),[a,P]=l.useState([g,m]),{i18n:c}=L(),[o,N]=l.useState(""),[i,x]=l.useState(1),n=8,[d,w]=l.useState([]);l.useEffect(()=>{x(1)},[o,a]),l.useEffect(()=>{const e=r.filter(s=>{const C=s.title.en.toLowerCase(),S=s.title.ar.toLowerCase(),f=o.toLowerCase(),j=s.price,k=C.includes(f)||S.includes(f),M=j>=a[0]&&j<=a[1];return k&&M});w(e)},[r,o,a]);const h=i*n,v=h-n,p=d.slice(v,h),u=e=>{x(e)};return t.jsx("div",{className:"flex flex-col container py-5 min-h-screen relative",children:t.jsxs("div",{className:"flex flex-col sm:flex-row",children:[t.jsxs("div",{className:"md:w-1/4 bg-white rounded-lg p-4 md:sticky top-0 h-fit overflow-y-auto shadow-lg flex flex-col gap-5",children:[t.jsx("h3",{className:"font-bold text-lg border-b border-gray-400 pb-4",children:c.language==="en"?"filter":"تصفية"}),t.jsx("div",{className:"w-full border-b border-gray-400 pb-4",children:t.jsx("input",{className:"w-full border border-gray-200 border-solid h-8",type:"text",name:"searchInAllProducts",id:"searchInAllProducts",value:o,placeholder:c.language==="en"?"search":"ابحث",onChange:e=>N(e.target.value)})}),t.jsxs("div",{className:"w-full ",children:[t.jsxs("label",{className:"text-secondColor font-bold",htmlFor:"priceRange",children:[c.language==="en"?"Price Range":"سعر المنتج ",": ",a[0]," - ",a[1]]}),t.jsx(I,{range:!0,id:"priceRange",className:"mt-4",min:g,max:m,step:10,value:a,onChange:e=>P(e)})]})]}),t.jsxs("div",{className:"md:w-3/4 p-4",children:[t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-4",children:p.length>0?p.map(e=>t.jsx(E,{allProducts:!0,background:"white",productDetails:e,id:e.id,title:e.title,total_price:e.total_price,price:e.price,quantity:e.quantity,image:e.images[0].path,category:e.category},e.id)):t.jsx("p",{children:"No products found."})}),d.length>n&&t.jsx("nav",{className:"mt-4 flex justify-center",children:t.jsxs("ul",{className:"pagination flex items-center gap-3",children:[i>1&&t.jsx("li",{className:"page-item text-blue-500",children:t.jsx("button",{className:"page-link w-full h-full py-2 px-2 text-2xl",onClick:()=>u(i-1),children:c.language==="en"?t.jsx(b,{}):t.jsx(y,{})})}),Array.from({length:Math.ceil(d.length/n)},(e,s)=>t.jsx("li",{className:`page-item bg-gray-600 hover:bg-gray-800 text-white rounded-md  ${i===s+1?"active bg-secondColor":""}`,children:t.jsx("button",{className:"page-link w-full h-full py-2 px-4",onClick:()=>u(s+1),children:s+1})},s)),i<Math.ceil(d.length/n)&&t.jsx("li",{className:"page-item text-blue-500",children:t.jsx("button",{className:"page-link w-full h-full py-2 px-2 text-2xl",onClick:()=>u(i+1),children:c.language==="en"?t.jsx(y,{}):t.jsx(b,{})})})]})})]})]})})};export{T as default};

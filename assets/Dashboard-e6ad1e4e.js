import{u as C,j as e,c as G,F as H,r as t,_ as S,e as D,f as K,O as X,B as ee,L as se,b as te}from"./index-910228ac.js";import{S as re,P as ae,N as ne,a as le}from"./pagination-92583b80.js";const oe=({id:a,openEditModal:l,openDeleteModal:i,openOrderModal:o,category:c,title:s,images:n,price:g,quantity:x,start_date:u,setDeleteProductId:h,setEditProductId:y,setOrderId:N})=>{var d,b;const{i18n:m}=C();return e.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-md",children:[e.jsx("div",{className:"img-holder flex justify-center items-center",children:e.jsx(re,{slidesPerView:1,spaceBetween:30,loop:!0,pagination:{clickable:!0},navigation:!0,modules:[ae,ne],className:"mySwiper",style:{direction:"ltr"},children:n.map(j=>e.jsx(le,{children:e.jsx("img",{className:"w-32 h-32 mx-auto mb-5 object-contain",src:`https://admin.horriizon.com/public/${j.path}`,alt:m.language==="en"?s==null?void 0:s.en:s==null?void 0:s.ar})},j.id))})}),e.jsxs("div",{className:"info grid gap-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("span",{children:"Category :"}),e.jsx("p",{className:"font-bold",children:m.language==="en"?`${(d=c.title)==null?void 0:d.en.substr(0,10)}..`:`${(b=c.title)==null?void 0:b.ar.substr(0,10)}..`})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("span",{children:"Product Name :"}),e.jsx("p",{className:"font-bold",children:m.language==="en"?`${s==null?void 0:s.en.substr(0,15)}...`:`${s==null?void 0:s.ar.substr(0,15)}...`})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("span",{children:"Price :"}),e.jsx("p",{className:"font-bold",children:g})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("span",{children:"Quantity :"}),e.jsx("p",{className:"font-bold",children:x})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("span",{children:"End Date :"}),e.jsx("p",{className:"font-bold",children:u})]})]}),e.jsxs("div",{className:"grid gap-2 mt-2",children:[e.jsxs("button",{type:"button",className:"flex items-center justify-center gap-2 bg-secondColor hover:bg-blue-800 duration-200 py-1 px-4 rounded-md hover:brightness-110 text-white",onClick:()=>{o(a)},children:["Show Orders ",e.jsx(G,{})]}),e.jsxs("div",{className:"buttons-holder grid grid-cols-2 gap-2 items-end",children:[e.jsx("button",{type:"button",className:"flex items-center justify-center gap-2 border border-secondColor text-secondColor py-1 px-4 rounded-md transition-all hover:bg-mainColor hover:text-white hover:border-white duration-200 hover:brightness-110",onClick:()=>{l(),y(a)},children:"Edit"}),e.jsx("button",{type:"button",className:"flex items-center justify-center gap-2 border border-secondColor text-secondColor py-1 px-4 rounded-md transition-all hover:bg-mainColor hover:text-white hover:border-white duration-200 hover:brightness-110",onClick:()=>{i(),h(a)},children:"Delete"})]})]})]})};const de=({setOrderModal:a,productOrders:l,isLoading:i})=>{console.log(l);const{i18n:o}=C(),c=s=>{const n=parseInt(s),x=(h=>{switch(h){case 0:return o.language==="en"?"Under Revision":"قيد المراجعة";case 1:return o.language==="en"?"Prepared":"قيد التحضير";case 2:return o.language==="en"?"At the Store":"قيد التخزين";case 3:return o.language==="en"?"At the Delivery Stage":"قيد مرحلة التوصيل";case 4:return o.language==="en"?"Delivered":"تم التوصيل";default:return""}})(n),u=n===0?"orange":n===1?"blue":n===2?"green":n===3?"purple":n===4?"teal":"black";return e.jsx("span",{style:{backgroundColor:u},className:"text-white p-2 rounded-xl shadow-lg",children:x})};return e.jsx("div",{className:"fixed z-[10000] inset-0 overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen px-4 pt-4 pb-20 sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 bg-opacity-90"})}),e.jsxs("div",{className:"modal-app relative bg-white rounded-lg overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-5xl sm:w-full",children:[e.jsxs("div",{className:"sticky z-10 top-0 left-0 right-0 bg-white px-4 py-2 shadow-md flex justify-between",children:[e.jsx("h3",{className:"text-xl font-medium text-secondColor",children:o.language==="en"?"Orders":"اوردر"}),e.jsx("button",{className:"border border-secondColor text-secondColor py-1 px-4 rounded-md hover:brightness-110",onClick:()=>{a(!1)},children:e.jsx(H,{})})]}),e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4 flex items-center justify-center",children:i?e.jsx("p",{className:"text-center",children:"Loading orders..."}):(l==null?void 0:l.length)>0?e.jsx("div",{className:"overflow-x-auto w-full",children:e.jsxs("table",{className:"table-auto w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border min-w-[120px] px-4 py-3",children:"Number"}),e.jsx("th",{className:"border min-w-[120px] px-4 py-3",children:"user ID"}),e.jsx("th",{className:"border min-w-[120px] px-4 py-3",children:"Order ID"}),e.jsx("th",{className:"border min-w-[120px] px-4 py-3",children:"Quantity"}),e.jsx("th",{className:"border min-w-[120px] px-4 py-3",children:"Total Price"}),e.jsx("th",{className:"border min-w-[120px] px-4 py-3",children:"Status"})]})}),e.jsx("tbody",{children:l==null?void 0:l.map((s,n)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border min-w-[120px] px-4 py-3",children:n+1}),e.jsx("td",{className:"border min-w-[120px] px-4 py-3",children:s.user_id}),e.jsx("td",{className:"border min-w-[120px] px-4 py-3",children:s.id}),e.jsx("td",{className:"border min-w-[120px] px-4 py-3",children:s.quantity}),e.jsx("td",{className:"border min-w-[120px] px-4 py-3",children:s.total_price}),e.jsx("td",{className:"border min-w-[220px] px-4 py-3 flex justify-center items-center",children:c(s.status)})]},s.id))})]})}):e.jsx("p",{className:"text-center",children:"No orders found for this product."})})]})]})})},ie=t.lazy(()=>S(()=>import("./AddModal-71339c69.js"),["assets/AddModal-71339c69.js","assets/index-910228ac.js","assets/index-0083a8cd.css","assets/react-select.esm-1c38e124.js","assets/toConsumableArray-6400d53b.js","assets/emotion-unitless.esm-475d8cc4.js"])),ce=t.lazy(()=>S(()=>import("./EditModal-df45bb6e.js"),["assets/EditModal-df45bb6e.js","assets/index-910228ac.js","assets/index-0083a8cd.css","assets/react-select.esm-1c38e124.js","assets/toConsumableArray-6400d53b.js","assets/emotion-unitless.esm-475d8cc4.js"])),xe=t.lazy(()=>S(()=>import("./DeleteModal-dd5a1abb.js"),["assets/DeleteModal-dd5a1abb.js","assets/index-910228ac.js","assets/index-0083a8cd.css"])),me=()=>{const{i18n:a}=C(),{mainRequest:l}=t.useContext(D),i=localStorage.getItem("sellerLogged"),o=JSON.parse(localStorage.getItem("sellerToken")),c=K();if(!i){c("/seller-login");return}const[s,n]=t.useState(!1),[g,x]=t.useState(!1),[u,h]=t.useState(!1),[y,N]=t.useState(!1),[m,d]=t.useState([]),[b,j]=t.useState(null),[L,O]=t.useState(null),[P,T]=t.useState([]),[v,I]=t.useState(null),[_,p]=t.useState(!1),[R,$]=t.useState(!1),w=()=>{n(!0)},z=()=>{x(!0)},V=()=>{h(!0)},B=r=>{I(r),N(!0)},{getAllCategories:q,categories:E,getSellerProducts:f}=t.useContext(D),A=E.map(r=>({value:r.id,label:r.title.en})),k=E.map(r=>({value:r.id,label:r.title.ar})),F=async()=>{p(!0);try{const r=await l.post(`${te}/vendor/order/orderByProductId/${v}`,{token:o});T(r.data.data),console.log(r.data)}catch(r){console.log(r),$(r)}finally{p(!1)}};return t.useEffect(()=>{f(d,p),q()},[i]),t.useEffect(()=>{v&&F(),console.log(P)},[v]),_?e.jsxs("div",{className:"container py-10 flex flex-col gap-5 items-center justify-center",children:[e.jsx("h2",{className:"text-xl font-bold",children:a.language==="en"?"Loading...":"جاري التحميل..."}),e.jsx(X,{visible:!0,height:"160",width:"160",ariaLabel:"Oval-loading",wrapperStyle:{},wrapperClass:"Oval-wrapper",color:"#125ed4",secondaryColor:"#060047"})]}):R?e.jsx("div",{className:"container py-10 flex flex-col gap-5 items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[40dvh]",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600",children:a.language==="en"?"There Is An Error While Loading ZYour Products!":"يوجد خطأ ما اثناء تحميل منتجاتك، برجاء إعادة المحاوله مرة اخرى!!"}),e.jsx("button",{type:"button",onClick:w,className:"bg-secondColor py-2 px-4 rounded-lg hover:brightness-110 text-white mt-5",children:a.language==="en"?"Add Product":"اضافة منتج جديد"})]})}):e.jsxs("div",{className:"container py-10",children:[e.jsxs("div",{className:"mb-10 flex flex-col items-start gap-2 sm:flex-row sm:items-center justify-between",children:[e.jsx(ee,{}),e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx(se,{to:"/orders",className:"bg-secondColor hover:bg-mainColor duration-200 py-2 px-4 rounded-lg hover:brightness-110 text-white",children:a.language==="en"?"Show Orders":"الطلبات"}),e.jsx("button",{type:"button",onClick:w,className:"bg-secondColor hover:bg-mainColor duration-200 py-2 px-4 rounded-lg hover:brightness-110 text-white",children:a.language==="en"?"Add Product":"اضافة منتج جديد"})]})]}),m.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 2xl::grid-cols-5 gap-5",children:m.map(r=>{const{id:M,category:Q,title:U,images:Y,price:J,quantity:W,start_date:Z}=r;return e.jsx(oe,{openEditModal:z,openDeleteModal:V,openOrderModal:B,setOrderId:I,id:M,title:U,images:Y,category:Q,price:J,quantity:W,start_date:Z,setDeleteProductId:j,setEditProductId:O},M)})}):e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[40dvh]",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600",children:a.language==="en"?"You have not added any products yet!":"انت لم تقم باضافة اي منتجات بعد!"}),e.jsx("button",{type:"button",onClick:w,className:"bg-secondColor py-2 px-4 rounded-lg hover:brightness-110 text-white mt-5",children:a.language==="en"?"Add Product":"اضافة منتج جديد"})]}),s&&e.jsx(ie,{getSellerProducts:f,setAllProducts:d,setIsLoading:p,addModal:s,setAddModal:n,encategoriesOptions:A,arcategoriesOptions:k}),g&&e.jsx(ce,{getSellerProducts:f,setAllProducts:d,setIsLoading:p,editModal:g,setEditModal:x,encategoriesOptions:A,arcategoriesOptions:k,productId:L}),u&&e.jsx(xe,{getSellerProducts:f,setAllProducts:d,setIsLoading:p,deleteModal:u,setDeleteModal:h,productId:b}),y&&e.jsx(de,{setOrderModal:N,productOrders:P,isLoading:_})]})};export{me as default};

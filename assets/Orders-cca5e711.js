import{u as w,m as P,r as o,l as T,j as r,i as _}from"./index-a67b738b.js";import{B as g}from"./Breadcrumbs-d13ecbcb.js";import{Q as A}from"./index.es-a5bcf740.js";import{L as C}from"./Loading-e45ebbe8.js";import"./Tooltip-ff03e7b5.js";import"./index.esm-5bc4dc05.js";import"./floating-ui.dom-9d44cd4e.js";import"./emotion-unitless.esm-475d8cc4.js";const Q=()=>{const{i18n:s}=w(),c=localStorage.getItem("sellerLogged"),u=JSON.parse(localStorage.getItem("sellerToken")),p=P();if(!c)return p("/seller-login"),null;const{mainRequest:x}=o.useContext(T),[l,b]=o.useState([]),[f,i]=o.useState(!1),[h,n]=o.useState([]),S=async()=>{i(!0);try{const e=await x.post(`${_}/vendor/order`,{token:u});b(e.data),n(e.data),console.log(e.data)}catch(e){console.log(e)}finally{i(!1)}};o.useEffect(()=>{S()},[u,c]);const d=e=>{const t=parseInt(e),a=(I=>{switch(I){case 0:return s.language==="en"?"Under Revision":"قيد المراجعة";case 1:return s.language==="en"?"Prepared":"قيد التحضير";case 2:return s.language==="en"?"At the Store":"قيد التخزين";case 3:return s.language==="en"?"At the Delivery Stage":"قيد مرحلة التوصيل";case 4:return s.language==="en"?"Delivered":"تم التوصيل";default:return""}})(t),N=t===0?"orange":t===1?"blue":t===2?"green":t===3?"purple":t===4?"teal":"black";return r.jsx("span",{style:{backgroundColor:N},className:"text-white p-2 rounded-xl shadow-lg",children:a})},j=[{name:"Order ID",selector:"id",sortable:!0},{name:"Product ID",selector:"product_id",sortable:!0},{name:"Product Name",selector:"product.title.en",sortable:!0},{name:"Product Price",selector:"product.price",sortable:!0},{name:"Quantity",selector:"quantity",sortable:!0},{name:"Total Price",selector:"total_price",sortable:!0},{name:"User ID",selector:"user_id",sortable:!0},{name:"Date",selector:"date",sortable:!0},{name:s.language==="en"?"Status":"الحالة",selector:"status",sortable:!0,cell:e=>d(e.status)}],y=[{name:"رقم الطلب",selector:"id",sortable:!0},{name:"رقم المنتج",selector:"product_id",sortable:!0},{name:"اسم المنتج",selector:"product.title.ar",sortable:!0},{name:"سعر المنتج",selector:"product.price",sortable:!0},{name:"الكمية",selector:"quantity",sortable:!0},{name:"السعر الكلي",selector:"total_price",sortable:!0},{name:"رقم المستخدم",selector:"user_id",sortable:!0},{name:"التاريخ",selector:"date",sortable:!0},{name:s.language==="en"?"Status":"الحالة",selector:"status",sortable:!0,cell:e=>d(e.status)}],v=s.language==="en"?j:y,D=e=>{const t=e.target.value;if(t.trim()==="")n(l);else{const m=l.filter(a=>a.id.toString().includes(t)||a.product_id.toString().includes(t)||a.product.title.en.toString().includes(t)||a.product.title.ar.toString().includes(t)||a.user_id.toString().includes(t));n(m)}};return f?r.jsx(C,{}):r.jsx("div",{className:"container py-10 min-h-[40dvh]",children:(l==null?void 0:l.length)>0?r.jsxs("div",{children:[r.jsx("div",{className:"mb-10 flex flex-col items-start gap-2 sm:flex-row sm:items-center justify-between",children:r.jsx(g,{})}),r.jsx("input",{type:"text",placeholder:"Search by Order ID, Product ID, Product Title or User ID...",onChange:D,className:"px-4 py-2 w-full mb-2 border rounded-md focus:outline-none focus:ring focus:ring-blue-200"}),r.jsx(A,{columns:v,data:h,className:"order-table"})]}):r.jsxs(r.Fragment,{children:[r.jsx(g,{}),r.jsx("div",{className:"flex flex-col items-center justify-center",children:r.jsx("h1",{className:"text-2xl font-bold text-red-600",children:s.language==="en"?"You Don't Have Any Orders Yet!":"ليس لديك اي طلبات بعد"})})]})})};export{Q as default};

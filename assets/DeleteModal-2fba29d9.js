import{u as C,r as i,e as N,j as e,aj as r,ak as b,al as d,b as g,Q as o}from"./index-809b93ef.js";const T=({deleteModal:n,setDeleteModal:a,productId:l,getSellerProducts:y,setAllProducts:m,setIsLoading:p,cartItem:v,page:x})=>{const{i18n:t}=C(),c=JSON.parse(localStorage.getItem("sellerToken")),f=JSON.parse(localStorage.getItem("userToken")),{mainRequest:u,getTotalPriceInCart:h}=i.useContext(N),j=async()=>{try{const s=await u.post(`${g}/vendor/products/${l}/delete`,{token:c});o.success(t.language==="en"?"the product successfully delete":"تم حذف المنتج ")}catch(s){console.log(s),o.error(t.language==="en"?"theres is an error, please try again":"يوجد خطأ، برجاء المحاوله مره اخره")}finally{a(!1),y(m,p),document.body.style.overflow="auto"}},k=async s=>{try{const w=await u.post(`${g}/cart/delete_product/${s}`,{token:f});o.success(t.language==="en"?"the product successfully delete from cart":"تم حذف المنتج من عربة التسوق"),h()}catch{o.error(t.language==="en"?"theres is an error, please try again":"يوجد خطأ، برجاء المحاوله مره اخره")}finally{a(!1),x==="pay"&&window.location.reload()}};return i.useEffect(()=>{document.body.style.overflow="auto"},[n]),e.jsxs(r,{className:"z-[10000] modal",show:n,size:"md",popup:!0,onClose:()=>{a(!1),document.body.style.overflow="auto"},children:[e.jsx(r.Header,{}),e.jsx(r.Body,{children:e.jsxs("div",{className:"text-center",children:[e.jsx(b,{className:"mx-auto mb-4 h-14 w-14 text-gray-400 dark:text-gray-200"}),e.jsx("h3",{className:"mb-5 text-lg font-normal text-gray-500 dark:text-gray-400",children:t.language==="en"?"Are you sure you want to delete this product?":"هل انت متاكد انك تريد حذف هذا المنتج؟"}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx(d,{color:"failure",onClick:()=>{if(c){j();return}k(l)},children:t.language==="en"?"Yes, I'm sure":"نعم، انا متاكد"}),e.jsx(d,{color:"gray",onClick:()=>{document.body.style.overflow="auto",a(!1)},children:t.language==="en"?"No, cancel":"لا، الغاء"})]})]})})]})};export{T as default};
